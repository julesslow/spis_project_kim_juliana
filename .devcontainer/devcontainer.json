{
    "name": "Python 3 & Node.js",
    // Use the universal image as it's a good base for multi-language development.
    "image": "mcr.microsoft.com/devcontainers/universal:latest",

    // Features to add to the dev container. We are adding both Docker-in-Docker and Node.js.
    "features": {
      "ghcr.io/devcontainers/features/docker-in-docker:2": {
        "version": "latest"
      },
      "ghcr.io/devcontainers/features/node:1": {
        "version": "lts"
      }
    },

    // Configure tool-specific properties.
    "customizations": {
        // Configure properties specific to VS Code.
        "vscode": {
            "settings": {},
            "extensions": [
                "ms-python.python"
            ]
        }
    },

    // Use 'forwardPorts' to make a list of ports inside the container available locally.
    "forwardPorts": [5000],

    // Use 'portsAttributes' to set default properties for specific forwarded ports. 
    // More info: https://containers.dev/implementors/json_reference/#port-attributes
    "portsAttributes": {
        "5000": {
            "label": "Application",
            // Other options below: notify, openPreview, ignore
            "onAutoForward": "openBrowser" 
        }
    },

    // Use 'postCreateCommand' to run commands after the container is created.
    // We are chaining the npm install with your existing pip install command.
    "postCreateCommand": "npm install && export MODEL_DIRECTORY=\"/workspaces/ominous-space-journey-7v475wgpwrxj3pxgg/models\" && pip3 install -r requirements.txt"
    // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
    // "remoteUser": "root"

}